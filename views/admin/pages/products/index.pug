extends ../../layouts/default.pug
include ../../mixins/filter-state.pug
include ../../mixins/search.pug

block main 
  h1(class="mb-4") #{pageTitle}
  .card.mb-3 
    .card-header Bộ lọc và tìm kiếm 
    .card-body 
      .row 
        .col-6
          +filter-state(filterState)
        .col-6 
          +search(keyword)
    .card.mb-3 
      .card-header Danh sách  
      .card-body
        table.table.table-hover.table-sm
          thead
            tr
              th STT 
              th Hình ảnh 
              th Tiêu đề
              th Giá
              th Trạng thái
              th Hành động
          tbody 
            each item, index in products
              tr
                td #{index + 1}
                td 
                  img(
                    src=item.thumbnail, 
                    alt=item.title
                    width="100px"
                    height="auto"
                    )
                td #{item.title}
                td #{item.price}$
                td 
                  if(item.status == 'active')
                    //- javascript:; => Trình duyệt sẽ hiểu ta muốn link sử dụng javascript để viết code, là một URL đặc biệt, về cơ bản là một liên kết không làm gì cả. Nó chạy một đoạn mã JavaScript trống khi được nhấp vào, giúp ngăn việc điều hướng đến trang khác.
                    a(
                      href="#" 
                      class="badge badge-success"
                    ) Hoạt động 
                  else
                    a(
                      href="#" 
                      class="badge badge-danger"
                    ) Dừng hoạt động
                td 
                  button(class="btn btn-warning btn-sm") Sửa
                  button(class="btn btn-danger btn-sm ml-1") Xóa
    nav 
      ul(class="pagination")
        button(
          class="page-link"
          button-pagination=1
        ) Đầu
        if(pagination.currentPage > 1)
          li(class="page-item")
            button(
              class="page-link"
              button-pagination=pagination.currentPage - 1
            ) <--
        - for(let index = 1; index <= pagination.totalPage; index++)
          li(class=`page-item ${pagination.currentPage == index ? 'active' : ''}`)
            button(
              class="page-link" 
              button-pagination=index
            ) #{index}
        if(pagination.currentPage < pagination.totalPage)
          li(class="page-item")
            button(
              class="page-link"
              button-pagination=pagination.currentPage + 1
            ) -->
        button(
          class="page-link"
          button-pagination=pagination.totalPage
        ) Cuối